"use strict";(self.webpackChunknodebucket=self.webpackChunknodebucket||[]).push([[919],{4919:(I,u,a)=>{a.r(u),a.d(u,{SecurityModule:()=>S});var l=a(6814),c=a(2129),e=a(4769);let d=(()=>{var n;class o{}return(n=o).\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-security"]],decls:1,vars:0,template:function(t,i){1&t&&e._UZ(0,"router-outlet")},dependencies:[c.lC],encapsulation:2}),o})();var s=a(95),m=a(459),g=a(9862);let f=(()=>{var n;class o{constructor(t){this.http=t}findEmployeeById(t){return this.http.get("/api/employees/"+t)}}return(n=o).\u0275fac=function(t){return new(t||n)(e.LFG(g.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),o})();function h(n,o){if(1&n&&(e.TgZ(0,"div",17),e._uU(1),e.qZA()),2&n){const r=e.oxw();e.xp6(1),e.hij(" ",r.errorMessage," ")}}function x(n,o){1&n&&(e.TgZ(0,"span"),e._uU(1,"Sign in"),e.qZA())}function y(n,o){1&n&&(e.TgZ(0,"div"),e._UZ(1,"span",18),e._uU(2," Loading... "),e.qZA())}const v=[{path:"",component:d,children:[{path:"signin",component:(()=>{var n;class o{constructor(t,i,p,C,M){this.fb=t,this.router=i,this.cookieService=p,this.secService=C,this.route=M,this.isLoading=!1,this.signinForm=this.fb.group({empId:[null,s.kI.compose([s.kI.required,s.kI.pattern("^[0-9]*$")])]}),this.sessionUser={},this.errorMessage=""}signin(){console.log("empId"),this.isLoading=!0;const t=this.signinForm.controls.empId.value;if(!t||isNaN(parseInt(t,10)))return this.errorMessage="The employee ID you entered is invalid, please try again.",void(this.isLoading=!1);this.secService.findEmployeeById(t).subscribe({next:i=>{this.sessionUser=i,this.cookieService.set("session_user",t,1),this.cookieService.set("session_name",`${i.firstName} ${i.lastName}`,1);const p=this.route.snapshot.queryParamMap.get("returnUrl")||"/";this.isLoading=!1,this.router.navigate([p])},error:i=>{this.isLoading=!1,this.errorMessage=i.error.message?i.error.message:i.message}})}}return(n=o).\u0275fac=function(t){return new(t||n)(e.Y36(s.qu),e.Y36(c.F0),e.Y36(m.N),e.Y36(f),e.Y36(c.gz))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-signin"]],decls:28,vars:4,consts:[[1,"signin-page"],[1,"container"],[1,"row","justify-content-center","mt-5","h-100"],[1,"col-md-6","left-signin-txt","p-5","d-none","d-md-flex"],[1,"pb-5"],[1,"col-12","col-md-6","px-4","py-5","left-signin-form"],[1,"card-title","text-center","border-bottom"],[1,"p-3","mt-2","bolder"],["class","alert alert-danger","role","alert",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"mb-4"],["for","empId",1,"form-label","mt-4"],["type","text","id","empId","formControlName","empId","placeholder","Enter your employee Id here",1,"form-control","mt-2"],[1,"d-grid"],["type","submit",1,"btn","btn-dark"],[4,"ngIf"],["routerLink","/",1,"text-dark","text-underline-hover","pt-3"],["role","alert",1,"alert","alert-danger"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1")(5,"i"),e._uU(6,"Nodebuket "),e.TgZ(7,"span"),e._uU(8,"."),e.qZA()()(),e.TgZ(9,"p",4)(10,"i"),e._uU(11,"Welcome to our free Task Creation app \u2013 where efficiency meets simplicity, empowering you to manage tasks effortlessly "),e.qZA()()(),e.TgZ(12,"div",5)(13,"div",6)(14,"h2",7),e._uU(15,"Employee Sign In"),e.qZA()(),e.YNc(16,h,2,1,"div",8),e.TgZ(17,"form",9),e.NdJ("ngSubmit",function(){return i.signin(),i.signinForm.reset()}),e.TgZ(18,"div",10)(19,"label",11),e._uU(20,"Employee ID:"),e.qZA(),e._UZ(21,"input",12),e.qZA(),e.TgZ(22,"div",13)(23,"button",14),e.YNc(24,x,2,0,"span",15),e.YNc(25,y,3,0,"div",15),e.qZA()()(),e.TgZ(26,"a",16),e._uU(27,"Return"),e.qZA()()()()()),2&t&&(e.xp6(16),e.Q6J("ngIf",i.errorMessage),e.xp6(1),e.Q6J("formGroup",i.signinForm),e.xp6(7),e.Q6J("ngIf",!i.isLoading),e.xp6(1),e.Q6J("ngIf",i.isLoading))},dependencies:[l.O5,c.rH,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u],styles:['.signin-page[_ngcontent-%COMP%]{height:100vh;overflow:hidden}.signin-page[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{background:rgba(148,210,148,.2);box-shadow:0 3px 12px #3ab7ff2e;border-radius:30px;height:90%}.left-signin-txt[_ngcontent-%COMP%]{background:#050A24;height:100%;border-top-left-radius:32px;border-bottom-left-radius:32px;display:flex;flex-direction:column;justify-content:space-around}.left-signin-txt[_ngcontent-%COMP%]:after{position:absolute;content:"name";width:379px;height:379px;flex-shrink:0;border-radius:379px;background:#73C255;filter:blur(275px)}.left-signin-txt[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:700;color:#fff}.left-signin-txt[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:green}.left-signin-txt[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:xx-large;color:#fff}.left-signin-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:16px 30px;border-radius:12px;outline:none;border:1px solid #008000;box-shadow:0 4px 2px #0000001c}.left-signin-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:#008000;color:#fff;font-weight:600;padding:10px 20px;margin-top:10px;margin-bottom:10px;border:none;border-radius:10px;box-shadow:0 4px 2px #0000001c}']}),o})(),title:"Nodebucket:  Sign In"}]}];let b=(()=>{var n;class o{}return(n=o).\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[c.Bz.forChild(v),c.Bz]}),o})(),S=(()=>{var n;class o{}return(n=o).\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[l.ez,b,c.Bz,s.u5,s.UX,g.JF]}),o})()}}]);